import Head from 'next/head';

export default function Home() {
  return (
    <div dir="rtl" style={{ background: '#111', color: '#eee', padding: '20px', fontFamily: 'Segoe UI, sans-serif' }}>
      <Head>
        <title>๐ก ุชูุตูุงุช EUR/USD</title>
      </Head>
      <div style={{ maxWidth: '500px', margin: 'auto', background: '#222', borderRadius: '10px', padding: '20px' }}>
        <h1 style={{ textAlign: 'center', color: '#0f0' }}>๐ก ุชูุตูุงุช EUR/USD</h1>

        <p><b>๐ ุงูุชูุตูุฉ:</b> <span id="signal">--</span></p>
        <p><b>๐ฑ ุงูุณุนุฑ:</b> <span id="price">--</span></p>
        <p><b>๐ฏ ุงููุฏู:</b> <span id="tp">--</span></p>
        <p><b>๐ ููู ุงูุฎุณุงุฑุฉ:</b> <span id="sl">--</span></p>
        <p><b>๐ ุงูุซูุฉ:</b> <span id="confidence">--</span></p>
        <p><b>โฑ ูุฏุฉ ุงูุตููุฉ:</b> <span id="duration">--</span></p>

        <button onClick={() => fetchSignal()} style={{ width: '100%', marginTop: '20px', padding: '10px', fontWeight: 'bold', background: '#0f0', color: '#000', borderRadius: '6px' }}>๐ ุชุญุฏูุซ ูุฏูู</button>

        <p style={{ textAlign: 'center', color: '#888', fontSize: '14px', marginTop: '15px' }} id="timeUpdated">ุขุฎุฑ ุชุญุฏูุซ: --</p>
      </div>

      <script dangerouslySetInnerHTML={{ __html: `
        async function fetchSignal() {
          try {
            const res = await fetch("https://gi-jade.vercel.app/latest_signal.json");
            const data = await res.json();
            document.getElementById("signal").innerText = data.signal || "--";
            document.getElementById("price").innerText = data.price || "--";
            document.getElementById("tp").innerText = data.tp || "--";
            document.getElementById("sl").innerText = data.sl || "--";
            document.getElementById("confidence").innerText = (data.confidence || "--") + "%";
            document.getElementById("duration").innerText = (data.duration || "--") + " ุซุงููุฉ";
            document.getElementById("timeUpdated").innerText = "ุขุฎุฑ ุชุญุฏูุซ: " + new Date().toLocaleTimeString();
          } catch (e) {
            alert("ูุดู ูู ุชุญููู ุงูุจูุงูุงุช ุงูุญูุฉ");
          }
        }
        fetchSignal();
        setInterval(fetchSignal, 60000);
      ` }} />
    </div>
  );
}
