<!-- ÙƒÙˆØ¯ Ù…Ø­Ø¯Ø« Ù…Ø¹ ØªÙˆØµÙŠØ§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆØªØ­Ù„ÙŠÙ„ ÙÙ†ÙŠ Ø¨Ø³ÙŠØ· -->
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>eo broker smart signal</title>
  <style>
    body {margin: 0; padding: 20px; background-color: #111; color: #eee; font-family: 'Segoe UI', sans-serif; direction: rtl;}
    .container {max-width: 500px; margin: auto;}
    h1 {text-align: center; color: #0ff;}
    .signal-box {background-color: #222; padding: 20px; border-radius: 10px; margin-bottom: 20px;}
    .label {color: #aaa; font-weight: bold;}
    .value {font-size: 1.2em; margin-bottom: 10px;}
    button {width: 100%; padding: 10px; margin-top: 10px; background-color: #0ff; color: #000; border: none; font-size: 16px; border-radius: 6px; cursor: pointer;}
    .history {background-color: #181818; padding: 15px; border-radius: 10px;}
    input {padding: 8px; width: 100%; margin-bottom: 10px; border: none; border-radius: 5px;}
    #admin-form {display: none; background: #222; padding: 15px; margin-top: 15px; border-radius: 8px;}
  </style>
</head>
<body>
<div class="container">
  <h1>ğŸ“¡ eo broker smart signal</h1>

  <div class="signal-box" id="signalBox">
    <div class="label">ğŸ“ˆ Ø§Ù„ØªÙˆØµÙŠØ©:</div>
    <div class="value" id="recommendation">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„...</div>

    <div class="label">ğŸ’± Ø§Ù„Ø³Ø¹Ø±:</div>
    <div class="value" id="price">-</div>

    <div class="label">ğŸ¯ Ø§Ù„Ù‡Ø¯Ù:</div>
    <div class="value" id="tp">-</div>

    <div class="label">ğŸ›‘ ÙˆÙ‚Ù Ø§Ù„Ø®Ø³Ø§Ø±Ø©:</div>
    <div class="value" id="sl">-</div>

    <div class="label">â± Ù…Ø¯Ø© Ø§Ù„ØµÙÙ‚Ø©:</div>
    <div class="value" id="duration">30 Ø«Ø§Ù†ÙŠØ©</div>

    <div class="label">ğŸ“Š Ù†Ø³Ø¨Ø© Ø§Ù„Ø«Ù‚Ø©:</div>
    <div class="value" id="confidence">-</div>
  </div>

  <button onclick="generateSignal()">ğŸ” ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ©</button>

  <div class="history">
    <div class="label">ğŸ“‹ Ø³Ø¬Ù„ Ø§Ù„ØªÙˆØµÙŠØ§Øª:</div>
    <ul id="historyList"></ul>
  </div>

  <button onclick="promptAdmin()">ğŸ”“ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±Ù</button>

  <div id="admin-form">
    <input type="text" id="manualType" placeholder="Ø´Ø±Ø§Ø¡ / Ø¨ÙŠØ¹">
    <input type="text" id="manualPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
    <input type="text" id="manualTP" placeholder="Take Profit">
    <input type="text" id="manualSL" placeholder="Stop Loss">
    <input type="text" id="manualDuration" placeholder="Ù…Ø¯Ø© Ø§Ù„ØµÙÙ‚Ø©">
    <input type="text" id="manualConfidence" placeholder="Ù†Ø³Ø¨Ø© Ø§Ù„Ø«Ù‚Ø©">
    <button onclick="submitManual()">âœ… Ù†Ø´Ø± Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„ÙŠØ¯ÙˆÙŠØ©</button>
  </div>
</div>

<script>
  const ws = new WebSocket("wss://ws.derivws.com/websockets/v3?app_id=1089");

  ws.onopen = () => {
    ws.send(JSON.stringify({ticks_subscribe: "frxEURUSD"}));
  };

  let lastPrice = 0;

  ws.onmessage = (msg) => {
    const data = JSON.parse(msg.data);
    if (data.tick) {
      lastPrice = parseFloat(data.tick.quote).toFixed(5);
      document.getElementById("price").textContent = lastPrice;
      generateSignal(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ© Ø¨Ù…Ø¬Ø±Ø¯ ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø¹Ø±
    }
  };

  function generateSignal() {
    const price = parseFloat(lastPrice);
    let recommendation = "â³ Ø§Ù„Ø³ÙˆÙ‚ ØºÙŠØ± ÙˆØ§Ø¶Ø­";
    let tp = "-", sl = "-", confidence = "50%";

    if (price > 1.0880) {
      recommendation = "ğŸ“‰ Ø¨ÙŠØ¹";
      tp = (price - 0.0004).toFixed(5);
      sl = (price + 0.0003).toFixed(5);
      confidence = "92%";
    } else if (price < 1.0820) {
      recommendation = "ğŸ“ˆ Ø´Ø±Ø§Ø¡";
      tp = (price + 0.0004).toFixed(5);
      sl = (price - 0.0003).toFixed(5);
      confidence = "91%";
    }

    document.getElementById("recommendation").textContent = recommendation;
    document.getElementById("tp").textContent = tp;
    document.getElementById("sl").textContent = sl;
    document.getElementById("confidence").textContent = confidence;

    const log = `${recommendation} @ ${price} ğŸ¯ ${tp} / ğŸ›‘ ${sl} / ğŸ“Š ${confidence}`;
    const li = document.createElement("li");
    li.textContent = log;
    document.getElementById("historyList").prepend(li);
  }

  function promptAdmin() {
    const pin = prompt("ğŸ” Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„:");
    if (pin === "2025") {
      document.getElementById("admin-form").style.display = "block";
    } else {
      alert("âŒ Ø±Ù…Ø² Ø®Ø§Ø·Ø¦!");
    }
  }

  function submitManual() {
    const type = document.getElementById("manualType").value;
    const entry = document.getElementById("manualPrice").value;
    const tp = document.getElementById("manualTP").value;
    const sl = document.getElementById("manualSL").value;
    const duration = document.getElementById("manualDuration").value;
    const confidence = document.getElementById("manualConfidence").value;

    document.getElementById("recommendation").textContent = type;
    document.getElementById("price").textContent = entry;
    document.getElementById("tp").textContent = tp;
    document.getElementById("sl").textContent = sl;
    document.getElementById("duration").textContent = duration;
    document.getElementById("confidence").textContent = confidence;

    const log = `${type} @ ${entry} ğŸ¯ ${tp} / ğŸ›‘ ${sl} / â± ${duration} / ğŸ“Š ${confidence}`;
    const li = document.createElement("li");
    li.textContent = log;
    document.getElementById("historyList").prepend(li);
  }
</script>
</body>
</html>
